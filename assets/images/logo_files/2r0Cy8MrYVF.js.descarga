if (self.CavalryLogger) { CavalryLogger.start_js(["LrSOE"]); }

__d("EventWatchStatusSelector",["csx","DOM","DOMQuery","Event","CSS"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";__p&&__p();this.$EventWatchStatusSelector1=j.primaryButton;this.$EventWatchStatusSelector2=j.menuElement;this.$EventWatchStatusSelector3=j.initialStatus;this.$EventWatchStatusSelector4=j.canViewerJoin;this.$EventWatchStatusSelector5=j.isPublicEvent;var k=j.menuInstance.getTriggerElem();this.$EventWatchStatusSelector6=c("DOMQuery").find(k,"._33n");this.$EventWatchStatusSelector7=c("DOMQuery").find(k,"._33o");this.$EventWatchStatusSelector8=c("DOMQuery").find(k,"._1gf3");c("Event").listen(j.primaryButton,"click",function(){this.$EventWatchStatusSelector3=j.primaryStatus;this.$EventWatchStatusSelector9();this.$EventWatchStatusSelector10()}.bind(this));j.menuInstance.subscribe("setMenu",function(){__p&&__p();var l=j.menuInstance.getMenu().getRoot();this.$EventWatchStatusSelector11=c("DOMQuery").find(l,"._33q");this.$EventWatchStatusSelector12=c("DOMQuery").find(l,"._33u");this.$EventWatchStatusSelector13=c("DOMQuery").find(l,"._33v");this.$EventWatchStatusSelector14=c("DOMQuery").find(l,"._33z");this.$EventWatchStatusSelector15=c("DOMQuery").find(l,"._1gf5");this.$EventWatchStatusSelector16=c("DOMQuery").find(l,"._1gfd");this.$EventWatchStatusSelector17=c("DOMQuery").find(l,"._1gfe");this.$EventWatchStatusSelector18=c("DOMQuery").scry(l,"._33-")[0];this.$EventWatchStatusSelector19=c("DOMQuery").scry(l,"._33_")[0];this.$EventWatchStatusSelector10();j.menuInstance.getMenu().subscribe("itemclick",function(m,n){var o=n.item.getRoot().getAttribute("data-string");if(o==="watched-selected"||o==="going-selected"||o==="declined-selected")return;this.$EventWatchStatusSelector3=o;setTimeout(this.$EventWatchStatusSelector10.bind(this));if(this.$EventWatchStatusSelector3==="unwatched")this.$EventWatchStatusSelector20()}.bind(this))}.bind(this))}i.prototype.$EventWatchStatusSelector20=function(){"use strict";c("DOM").insertAfter(this.$EventWatchStatusSelector2,this.$EventWatchStatusSelector1);c("DOM").remove(this.$EventWatchStatusSelector2)};i.prototype.$EventWatchStatusSelector9=function(){"use strict";c("DOM").insertAfter(this.$EventWatchStatusSelector1,this.$EventWatchStatusSelector2);c("DOM").remove(this.$EventWatchStatusSelector1)};i.prototype.$EventWatchStatusSelector10=function(){"use strict";__p&&__p();if(this.$EventWatchStatusSelector6)c("CSS").conditionShow(this.$EventWatchStatusSelector6,this.$EventWatchStatusSelector3==="going");if(this.$EventWatchStatusSelector7)c("CSS").conditionShow(this.$EventWatchStatusSelector7,this.$EventWatchStatusSelector3==="watched");if(this.$EventWatchStatusSelector8)c("CSS").conditionShow(this.$EventWatchStatusSelector8,this.$EventWatchStatusSelector3==="declined");if(this.$EventWatchStatusSelector11)c("CSS").conditionShow(this.$EventWatchStatusSelector11,this.$EventWatchStatusSelector3!=="going"&&this.$EventWatchStatusSelector4);if(this.$EventWatchStatusSelector12)c("CSS").conditionShow(this.$EventWatchStatusSelector12,this.$EventWatchStatusSelector3==="going");if(this.$EventWatchStatusSelector13)c("CSS").conditionShow(this.$EventWatchStatusSelector13,this.$EventWatchStatusSelector3!=="watched");if(this.$EventWatchStatusSelector14)c("CSS").conditionShow(this.$EventWatchStatusSelector14,this.$EventWatchStatusSelector3==="watched");if(this.$EventWatchStatusSelector15)c("CSS").conditionShow(this.$EventWatchStatusSelector15,this.$EventWatchStatusSelector3!=="declined"&&!this.$EventWatchStatusSelector5);if(this.$EventWatchStatusSelector16)c("CSS").conditionShow(this.$EventWatchStatusSelector16,this.$EventWatchStatusSelector3==="declined"&&!this.$EventWatchStatusSelector5);if(this.$EventWatchStatusSelector17)c("CSS").conditionShow(this.$EventWatchStatusSelector17,this.$EventWatchStatusSelector5);if(this.$EventWatchStatusSelector18)c("CSS").conditionShow(this.$EventWatchStatusSelector18,this.$EventWatchStatusSelector3==="going"&&this.$EventWatchStatusSelector5);if(this.$EventWatchStatusSelector19)c("CSS").conditionShow(this.$EventWatchStatusSelector19,this.$EventWatchStatusSelector3==="watched"&&this.$EventWatchStatusSelector5)};f.exports=i}),null);
__d("GroupsMYSKUtils",["CSS","Event"],(function a(b,c,d,e,f,g){var h={hideUnitOnClick:function i(j,k){c("Event").listen(j,"click",function(){c("CSS").hide(k)})}};f.exports=h}),null);
__d("HScrollItemType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONNECTIONS_PYML_ITEM:"connections_pyml_item",GOODWILL_VIDEO:"goodwill_video",GROUPS_MYSK:"groups_mysk",GROUPS_GENY:"groups_geny"})}),null);
__d("LocalNewsGYSJPivotLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_CANCEL:"local_news_gysj_composer_cancel",COMPOSER_OPEN:"local_news_gysj_composer_open",COMPOSER_POST:"local_news_gysj_composer_post",DISCOVER_TAP:"local_news_gysj_discover_tap",GROUP_JOIN:"local_news_gysj_group_join",GROUP_JOIN_CANCEL:"local_news_gysj_group_join_cancel",GROUP_TAP:"local_news_gysj_group_tap",GROUP_VIEW:"local_news_gysj_group_view",GROUP_XOUT:"local_news_gysj_group_xout",START_QP_RENDER:"start_qp_render",START_FETCH_GROUPS:"start_fetch_groups",END_FETCH_GROUPS:"end_fetch_groups",FETCH_USER_LOCATION:"fetch_user_location"})}),null);
__d("XConnectionsPageRecImpressionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/connections_pyml/log_impression/",{})}),null);
__d("XGroupsGENYImpressionLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/groups/geny/log/",{group_id:{type:"Int",required:true},event_id:{type:"Int",required:true},position:{type:"Int",required:true},action_source:{type:"String",required:true}})}),null);
__d("XGroupsMYSKImpressionLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/groups/mysk/log/",{group_id:{type:"Int",required:true},member_id:{type:"Int",required:true},hscroll_position:{type:"Int",required:true},hscroll_length:{type:"Int",required:true}})}),null);
__d("FbFeedAttachmentHScroll",["csx","cx","Arbiter","AsyncRequest","BanzaiLogger","BaseUnitCarousel","CSS","DOM","HScrollItemType","LocalNewsGYSJPivotLoggerEvent","XConnectionsPageRecImpressionController","XGroupsGENYImpressionLoggingController","XGroupsMYSKImpressionLoggingController"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("BanzaiLogger").create({retry:true});j=babelHelpers.inherits(m,c("BaseUnitCarousel"));k=j&&j.prototype;function m(n){"use strict";k.constructor.call(this,n);c("Arbiter").subscribe("x-out-hscroll-item",this.onXout.bind(this));this.logLastUnit=n.log_last_unit?n.log_last_unit:false}m.prototype.updateLargePager=function(){"use strict";c("CSS").removeClass(this.carousel,"_vxr");this.$FbFeedAttachmentHScroll1(true);this.$FbFeedAttachmentHScroll1(false);c("CSS").conditionClass(this.carousel,"_vxs",this.canSlideLeft()&&this.canSlideRight())};m.prototype.hidePagerButton=function(){"use strict";c("CSS").addClass(this.carousel,"_vxr")};m.prototype.$FbFeedAttachmentHScroll1=function(n){"use strict";__p&&__p();var o=n?"_vxt":"_vxu",p=n?"_vxv":"_vxw";if(n?this.canSlideRight():this.canSlideLeft()){c("CSS").removeClass(this.carousel,p);c("CSS").removeClass(this.carousel,o)}else{c("CSS").addClass(this.carousel,p);setTimeout(function(){c("CSS").addClass(this.carousel,o)}.bind(this),500)}};m.prototype.toggleXouts=function(n,o,p){"use strict";__p&&__p();var q=Math.min(n,o),r=Math.max(n,o),s=this.grid.children;q=Math.max(q,0);r=Math.min(r,s.length-1);var t=void 0;for(var u=q;u<=r;++u){t=s[u];var v=c("DOM").scry(t,"._1r7n")[0];if(v)if(p)c("CSS").hide(v);else c("CSS").show(v)}};m.prototype.logImpressions=function(){"use strict";var n=this.grid.children,o=n.length,p=this.visibleIndex+Math.min(this.visibleCount,o)-1;if(!this.circularCarousel&&p===o-1&&!this.logLastUnit)--p;for(var q=this.visibleIndex;q<=p;++q)this.$FbFeedAttachmentHScroll2(n[q],q)};m.prototype.$FbFeedAttachmentHScroll2=function(n,o){"use strict";__p&&__p();var p=n.getAttribute("data-logging");p=p?JSON.parse(p):null;if(!p||!p.item_type)return;if(p.item_type===c("HScrollItemType").CONNECTIONS_PYML_ITEM){var q=p.page_id;if(!q||isNaN(q)||this.loggedItems[q])return;l.log("ConnectionsPYMLLoggerConfig",{event:"impression",page_id:q});var r={};r.page_id=q;var s=c("XConnectionsPageRecImpressionController").getURIBuilder();new(c("AsyncRequest"))().setMethod("POST").setURI(s.getURI()).setData(r).send();this.loggedItems[q]=true}else if(p.item_type===c("HScrollItemType").LOCAL_NEWS_GYSJ_ITEM)l.log("LocalNewsGYSJPivotLoggerConfig",{name:c("LocalNewsGYSJPivotLoggerEvent").GROUP_VIEW,hscroll_position:o,group_id:p.group_id});else if(p.item_type===c("HScrollItemType").GROUPS_MYSK){var t=p.gid,u=p.mid;if(!t||!u||this.loggedItems[u])return;var v=c("XGroupsMYSKImpressionLoggingController").getURIBuilder().setInt("group_id",t).setInt("member_id",u).setInt("hscroll_position",o).setInt("hscroll_length",this.grid.children.length).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(v).send();this.loggedItems[u]=true}else if(p.item_type===c("HScrollItemType").GROUPS_GENY){var w=p.group_id,x=p.event_id,y=p.action_source;if(!x||this.loggedItems[x]||!y)return;var z=c("XGroupsGENYImpressionLoggingController").getURIBuilder().setInt("group_id",w).setInt("event_id",x).setInt("position",o+1).setString("action_source",y).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(z).send();this.loggedItems[x]=true}};f.exports=m}),null);